A **Recurrence Relation** for a sequence $a_{0}, a_{1}, a_{2}, \dots$ 
	is a formula that relates each term $a_{k}$ 
		to certain of its predecessors $a_{k-1}, a_{k-2}, \dots , a_{k-i}$ 
			where $i$ is an integer with $k-i\geq 0$
If $i$ is a fixed integer,
	the **Initial Conditions** for such recurrence relation 
		specify the values of $a_{0}, a_{1}, a_{2}, \dots, a_{i-1}$
If $i$ depends on $k$ 
	the initial conditions specify the values of $a_{0}, a_{1}, \dots, a_{m}$
		where $m$ is an integer with $m\geq 0$ 

## Writing a Recurrence Relation in More Than One Way
***
Let $s_{0}, s_{1}, s_{2}, \dots$ 
	be a sequence that satisfies the following recurrence relation:
		For every integer $k\geq 1$,    $s_{k}=3s_{k-1}-1$
Explain why the following statement is true:
		For every integer $k\geq 0$,    $s_{k+1}=3s_{k}-1$

**Solution :** The recurrence relation says that any term 
					of the sequence equals $3$ times the previous term minus $1$
				Now, for any integer $k\geq 0$,
					the term previous to $s_{k+1}$ is $s_{k}$
				Thus, for any integer $k\geq 0$,    $s_{k+1}=3s_{k}-1$

A sequence defined recursively 
	need not start 
		with a subscript of zero.
Also, a given recurrence relation 
	may be satisfied 
		by many different sequences;
			the actual values of the sequence 
				are determined 
					by the initial condition

## Sequences That Satisfy the Same Recurrence Relation
***
Let $a_{1}, a_{2}, a_{3}, \dots$ and $b_{1}, b_{2}, b_{3}, \dots$ 
	satisfy the recurrence relation 
		the that $k^{\text{th}}$ term equals $3$ times the $(k-1)^{\text{st}}$ term 
			for every integer $k\geq 2$ 
$$\begin{array}{}a_{k}=3a_{k-1} & b_{k}=3b_{k-1}\end{array}$$
			But, suppose that the initial conditions for the sequences are different;
$$\begin{array}{}
a_{1}=2 & b_{1}=1
\end{array}$$
***
So, 
$$
\begin{align}
a_{2} &= 3a_{1} = 3\cdot 2 = 6 & b_{2} &= 3b_{1} = 3 \cdot 1 = 3\\
a_{3} &= 3a_{2} = 3\cdot 6 = 18 & b_{3} &= 3b_{2} = 3 \cdot 3 = 9\\
a_{4} &= 3a_{3} = 3\cdot 18 = 54 & b_{4} &= 3b_{3} = 3 \cdot 9 = 27
\end{align}
$$
Thus, 
sequence $a$ begins $2, 6, 18, 54$
and sequence $b$ begins $1, 3, 9, 27$

## Showing That a Sequence Given by an Explicit Formula Satisfies a Certain Recurrence relation
***

For each integer $n\geq 1$ 
$$C_{n}=\cfrac{1}{n+1}\left(\begin{array}{}2n \\ n\end{array} \right)$$
***
Lets find $C_{1}, C_{2}, C_{3}$
 Show that this sequence satisfies 
	 the recurrence relation $C_{k}=\cfrac{4k-2}{k+1}C_{k-1}$ for every integer  $k\geq 2$
***
**Solution :**
$$
\begin{align}
C_{1} &= \frac{1}{2}\left(\begin{array}{}2\\1\end{array} \right) = \frac{1}{2}\cdot 2 = 1\\
C_{2} &= \frac{1}{3}\left(\begin{array}{}4\\2\end{array} \right) = \frac{1}{3}\cdot 6 = 2\\
C_{3} &= \frac{1}{4}\left(\begin{array}{}6\\3\end{array} \right) = \frac{1}{4}\cdot 20 = 5
\end{align}
$$

To obtain the $k^{\text{ th}}$ and $(k-1)^{\text{ st}}$ terms of the sequence
	just **substitute** $k$ and $k-1$ in the place of $n$
		in the explicit formula for $C_{1}, C_{2}, C_{3}, \dots$
$$
\begin{align}
C_{k} &= \cfrac{1}{k+1} \left(\begin{array}{} 2k \\ k\end{array} \right)\\
C_{k-1} &= \cfrac{1}{(k-1)+1} \left(\begin{array}{}2(k-1)\\k-1\end{array} \right) = \frac{1}{k} \left(\begin{array}{}2k-2 \\ k-1\end{array} \right)
\end{align}
$$
Then start with the right hand side 
	of the recurrence relation 
		and transform it into the left hand side:
			For each integer $k\geq 2$

$$
\begin{align}
\cfrac{4k-2}{k+1}C_{k-1} &= \cfrac{4k-2}{k+1}\left[ \frac{1}{k}\left(\begin{array}{}2k-2\\k-1\end{array} \right) \right]\\
&= \cfrac{2(2k-1)}{k+1} \cdot \frac{1}{k} \cdot \cfrac{(2k-2)!}{(k-1)!(2k-2-(k-1))!}\\
&= \frac{1}{k+1}\cdot (2(2k-1))\cdot \cfrac{(2k-2)!}{(k(k-1)!)(k-1)!}\\
&= \frac{1}{k+1}\cdot (2(2k-1)) \cdot\cfrac{1}{k!(k-1!)}\cdot(2k-2)!\cdot \frac{1}{2} \cdot \frac{1}{k} \cdot 2k\\
&= \frac{1}{k+1} \cdot \frac{2}{2} \cdot \frac{1}{k!} \cdot \frac{1}{(k-1)!} \cdot \frac{1}{k}\cdot (2k) \cdot (2k-1) \cdot (2k-2)!\\
&= \frac{1}{k+1} \cdot \frac{(2k)!}{k!k!} \\
&= \frac{1}{k+1}\left(\begin{array}{}2k \\ k\end{array} \right)\\
&= C_{k}
\end{align}
$$

## Example Fibonacci numbers 
***
A single pair of rabbits (male and female) is born at beginning of a year.
Assume that following conditions:
	1.  Rabbit pairs are not fertile during their first month of life but 
			 give birth to one new male/female pair at the end of every month.
	2. No rabbits die

How many rabbits will there be at the end of the year?
***
**Solution :** 
	Suppose you know how many rabbits pairs
		there were at the ends of the previous months
	How many will there be at the end of the current month?

The crucial observation is that 
	the number of rabbit pairs born 
		at the end of the month $k$ 
			is the same as the number of pairs alive 
				at the end of the month $k-2$
Why?
	Because it is exactly 
		the rabbit pairs 
			that were alive 
				at the end of the month $k-2$ 
					that were fertile during month $k$
The rabbits born 
	at the end of the month $k-1$ were not fertile at $k$

Now the number of rabbit pairs alive 
	at the end of the month $k$ 
		equals the ones alive
			at the end of the month $k-1$
		plus the pairs newly born
			at the end of the month $k$
Thus, 
$$
\begin{align}
\begin{bmatrix}
\text{the number} \\
\text{of rabbit}\\
\text{pairs alive} \\
\text{at the end}  \\
\text{of the month } k
\end{bmatrix}
&= 
\begin{bmatrix}
\text{the number} \\
\text{of rabbit} \\
\text{pairs alive} \\
\text{at the end} \\
\text{of month } k-1
\end{bmatrix}
+
\begin{bmatrix}
\text{the number} \\
\text{of rabbit} \\
\text{pairs born}  \\
\text{at the end } \\
\text{of month } k
\end{bmatrix}\\
\\
&=\begin{bmatrix}
\text{the number} \\
\text{of rabbit} \\
\text{pairs alive} \\
\text{at the end}  \\
\text{of month } k-1
\end{bmatrix}
+
\begin{bmatrix}
\text{the number} \\
\text{of rabbit} \\
\text{pairs alive} \\
\text{at the end} \\
\text{of month } k-2
\end{bmatrix}
\end{align}
$$
For each integer $n\geq 1$, Let
$$F_{n}=\begin{bmatrix}
\text{the number of rabit pairs} \\
\text{alive at the end of the month  } n
\end{bmatrix}$$
and let 
$$
\begin{align}
F_{0} &= \text{the initial number of rabbit pairs}\\
&=1
\end{align}
$$
Then by substitution, for every integer $k\geq 2$ 
$$F_{k}=F_{k+1}+F_{k-2}$$
Now, $F_{0}=1$
	and, $F_{1}=1$
		because the first pair of rabbits is 
			not fertile until the second month.
Hence, the complete specification 
	of the Fibonacci sequence 
		is as follows:
$$
\begin{align}
(1) \quad F_{k} &= F_{k-1}+F_{k-2} \quad & &\text{recurrence relation}\\
(2) \quad F_{0} &= 1, \quad F_{1}=1 \quad & &\text{initial conditions}
\end{align} 
$$

## Example Compound Interest
*** 
On your twenty-first birthday you get a letter informing you that on the day you were born an eccentric aunt deposited $100,000$ in a bank account earning $4\%$ interest compounding annually and she now intends to turn the account over to you. Provided you can figure out how much its worth. What is the amount currently in the account? 

**Solution :** 
To approach this problem observe that 
$$
\begin{bmatrix}
\text{the amount in}\\
\text{the account at} \\
\text{the end of any} \\
\text{particular year} \\
\end{bmatrix}
= 
\begin{bmatrix}
\text{the amount in} \\
\text{the account at} \\
\text{the end of the} \\
\text{previous year}
\end{bmatrix}
+
\begin{bmatrix}
\text{the intest} \\
\text{earned on the} \\
\text{account during} \\
\text{the year}
\end{bmatrix}
$$
Now the interest earned during the year 
	equals the interest rate, 
		$4\% = 0.04$ times the amount in the account
			at the end of the previous year. Thus,
$$
\begin{bmatrix}
\text{the amount in}\\
\text{the account at} \\
\text{the end of any} \\
\text{particular year} \\
\end{bmatrix}	
=\begin{bmatrix}
\text{the amount in} \\
\text{the account at} \\
\text{the end of the} \\
\text{previous year}
\end{bmatrix}
+
(0.04)
 \begin{bmatrix}
\text{the amount in} \\
\text{the account at} \\
\text{the end of the} \\
\text{previous year}
\end{bmatrix}
$$ 
For each positive integer $n$, let
$$A_{n}=\begin{bmatrix}\text{the amount in the account}\\ \text{at the end of year } n \end{bmatrix}$$
and let 
$$A_{0}=\textbf{the initial ammount} = \$100,000$$
Then for any particular year $k$, substitution into equation gives
$$\begin{align}
A_{k}&=A_{k-1}+(0.04)A_{k-1}\\
&= (1+0.04)\cdot A_{k-1}\\
&= (1.04)\cdot A_{k-1}
\end{align}$$
Consequently, the values of the sequence
	$A_{0}, A_{1}, A_{2}, \dots$ are completely specified as follows:
		$$\begin{align}A_k&=(1.04)A_{k-1} & &\quad \text{recurrence relation}\\ A_{0}&=\$100,000 & &\quad \text{initial conditions}\end{align}$$
The number $(1.04)$ is *the growth* factor of the sequence

How to derive an explicit formula for the value of the account in any year $n$.

## Compound Interest with Compounding Several Times a Year
***
When an annual interest rate of $i$ 
	is compounded $m$ times per year, 
		the interest rate paid per period is $\cfrac{i}{m}$ 
			(For instance, if $3\% = 0.03$ annual interest is compounded quarterly, then the interest rate paid per quarter is $\cfrac{0.03}{ 4}=0.0075$)
For each integer $k\geq 1$
	let $P_{k}=$ the amount deposit at the end of the $k^{\text{th}}$ period
		assuming no additional deposits or withdrawals
Then, the interest earned during the $k^{\text{th}}$  period
	equals the amount on deposit 
		at the end of the $(k-1)^{\text{st}}$ period 
			times the interest rate for the period:
			$$\textbf{interest earned during the } k^{\text{th}} \textbf{ period} = P_{k-1}\left( \cfrac{i}{m} \right)$$
The amount on deposit at the end of the $k^{\text{th}}$ period,
	$P_{k}$ , equals the amount at the end of the $(k-1)^{\text{st}}$ period
		$P_{k-1}$, plus the interest earned during the $k^{\text{th}}$ period:
$$
\begin{align}
P_{k}&=P_{k-1}+P_{k-1}\left( \cfrac{i}{m} \right) \\
&=P_{k-1}\left( 1+\cfrac{i}{m} \right) 
\end{align}
$$
Suppose $\$10,000$ is left on deposit at $3\%$ compounded quarterly
***
A. How much will be the account worth 
	at the end of the year? 
		assuming no additional deposits or withdrawals
B. The **annual percentage yield** (*APY*) 
	is the percentage increase in the value of the account
	over a one-year period.
		What is the *APY* for this account?
***
**Solution :**
A. 
	For each integer $n\geq 1$
		let $P_{n}=$ the amount on deposit after $n$ consecutive quarters,
			assuming no additional deposits or withdrawals
				and let $P_{0}$ be the initial $\$10,000$ 
	The, by the equation $P_{k}=P_{k-1}\left( 1+\cfrac{i}{m} \right)$ 
		with $i=0.03$ and $m=4$
			A recurrence relation for the sequence $P_{0}, P_{1}, P_{2}, \dots$ 
				$$P_{k}=P_{k-1}\left(1+\cfrac{0.03}{4}\right)$$$$P_{k}=P_{k-1}\cdot(1.0075)$$$$\begin{align}
P_{0} &= 10,000\\
P_{1} &= 10,000\cdot (1.0075) & &= 10,075\\
P_{2} &= 10,075 \cdot (1.0075)& &= 10,105.56\\
P_{3} &= 10,105.56 \cdot (1.0075) & &= 10,226.69\\
P_{4} &= 10,226.69 \cdot (1.0076) & &= 10,303.39
\end{align}$$
Hence after year one, there is $\$10,303.39$ to the nearest cent in the account
B. The percentage increase in the value of the account or *APY* is,
$$\cfrac{10,303.39-10,000}{10,000}=0.03034=3.034\%$$
